---
layout: post
title: Building Kivy app to Android apk
date: '2013-10-10T01:26:00.000+02:00'
author: Sotaya Yakubu
tags: [programming,app,android,kivy,python]
categories: [Programming,Python,Linux]
modified_time: '2013-10-10T01:26:04.041+02:00'
blogger_orig_url: http://plaixes.blogspot.com/2013/10/building-kivy-app-to-android-apk.html
icon: fa-linux
---

Days back i began setting up kivy-python-for-android environment in order to build my kivy app into an android apk, i was faced with alot of difficulties as it is my first time building this. However i accomplished my goal and will share my experience with also difficulties i face and how i was able to solve them.<br /><br />&nbsp; &nbsp; &nbsp; After developing kivy application, kivy developers have provided a somewhat detailed steps to building an apk. According to the page <i>http://kivy.org/docs/guide/packaging-android.html</i> one needs:<br /><br /><ul><li>A Linux system (Virtual machine)</li><li>Java&nbsp;</li><li>Python 2.7</li><li>Jinja2</li><li>Apache Ant and,</li><li>Android SDK</li></ul>Installing this prerequisites and getting the environment up and running is pretty easy (if you know what you are doing of course) however, during this process, a lot can possibly go wrong. After following each of the steps presented on this page <i>http://python-for-android.readthedocs.org/en/latest/prerequisites/</i> there are some key things to note<br /><br /><ol><li>You need to install android API level 8 or 14 and pretty much any NDK version as i tested.</li><li>Exporting each of the appropriate paths such as the <i>ANDROIDSDK, ANDROIDNDK, ANDROIDNDKVER, ANDROIDAPI, PATH.</i></li></ol>After exporting the PATH at the end, i discovered that the part to my <i>/etc/bin</i> was overridden, as a result of that, i was not able to run most of the shell commands. When that happens simply restarting the shell session or just opening a new session will do the trick. <i>NOTE: </i>after restarting a shell session, you will need to re-export all the paths again.<br /><br />After setting up all the prerequisites, cloning <i>python-for-android</i> repo using <i>git</i> is a pretty smooth process, however the problem arises when trying to build your distribution. The "<i>distribute.sh</i>" script is found in the <i>/path/python-for-android/</i> directory and runing it as specified in the kivy page might result to an empty &nbsp;<i>/python-for-android/dist/default </i>and no matter what you do, it will continue to be empty<br />And in this way, if you run the <i>build.py </i>script it will keep throwing some errors like <i>"Error: missing object name for verb "update"" blah blah blah.</i>&nbsp;When you see such an error the way to solve it is:<br /><br /><ul><li>&nbsp;To simply delete the <i>/dist/ </i>directory&nbsp;</li><li>Run <i>"./distribute.sh -m "kivy""</i>&nbsp;</li><li>Check the <i>/dist/default/ </i>directory if its empty</li><li>If not, you are ready to go.</li></ul>You can now run your <i>build.py </i>script with the proper parameters as stated in the kivy apk build page, after which you can find your .apk in the <i>/dist/default/bin </i>directory.<br /><br />NOTE: You can simply download the kivy virtual machine, which comes with all the dependencies pre installed, all you need to do is to configure your paths, build your distribution and build your app.<br /><br />Have fun Hacking....<br />&nbsp;&nbsp;
